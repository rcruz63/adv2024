# --- Día 8: Colinealidad Resonante ---
Os encontráis en el tejado de una instalación ultrasecreta del Conejo de Pascua.

Mientras Los Historiadores hacen lo suyo, echas un vistazo a la familiar y enorme antena. ¡Para tu sorpresa, parece haber sido reconfigurada para emitir una señal que hace que la gente tenga un 0,1% más de probabilidades de comprar chocolate de imitación mediocre de la marca Conejo de Pascua como regalo de Navidad! ¡Inconcebible!

Al escanear la ciudad, descubres que en realidad hay muchas antenas de este tipo. Cada antena está sintonizada a una frecuencia específica indicada por una letra minúscula, mayúscula o dígito. Creas un mapa (tu entrada del puzzle) de estas antenas. Por ejemplo:

```text
............
........0...
.....0......
.......0....
....0.......
......A.....
............
............
........A...
.........A..
............
............
```

La señal solo aplica su nefasto efecto en antinodos específicos basados en las frecuencias resonantes de las antenas. En particular, un antinodo ocurre en cualquier punto que esté perfectamente alineado con dos antenas de la misma frecuencia, pero solo cuando una de las antenas está al doble de distancia que la otra. Esto significa que para cualquier par de antenas con la misma frecuencia, hay dos antinodos, uno a cada lado de ellas.

Así, para estas dos antenas con frecuencia a, crean los dos antinodos marcados con #:

```text
..........
...#......
..........
....a.....
..........
.....a....
..........
......#...
..........
..........
```

Añadir una tercera antena con la misma frecuencia crea varios antinodos más. Idealmente añadiría cuatro antinodos, pero dos están fuera del lado derecho del mapa, así que en su lugar añade solo dos:

```text
..........
...#......
#.........
....a.....
........a.
.....a....
..#.......
......#...
..........
..........
```

Las antenas con diferentes frecuencias no crean antinodos; A y a cuentan como frecuencias diferentes. Sin embargo, los antinodos pueden ocurrir en ubicaciones que contienen antenas. En este diagrama, la antena solitaria con frecuencia mayúscula A no crea antinodos pero tiene un antinodo de frecuencia-a minúscula en su ubicación:

```text
..........
...#......
#.........
....a.....
........a.
.....a....
..#.......
......A...
..........
..........
```

El primer ejemplo tiene antenas con dos frecuencias diferentes, por lo que los antinodos que crean se ven así, más un antinodo superpuesto con la antena de frecuencia A más alta:

```text
......#....#
...#....0...
....#0....#.
..#....0....
....0....#..
.#....A.....
...#........
#......#....
........A...
.........A..
..........#.
..........#.
```

Debido a que la antena de frecuencia A más alta se superpone con un antinodo de frecuencia 0, hay 14 ubicaciones únicas en total que contienen un antinodo dentro de los límites del mapa.

Calcula el impacto de la señal. ¿Cuántas ubicaciones únicas dentro de los límites del mapa contienen un antinodo? `394`

## --- Parte Dos ---
Mientras observa por encima de tu hombro mientras trabajas, uno de Los Historiadores pregunta si has tenido en cuenta los efectos de los armónicos resonantes en tus cálculos.

¡Ups!

Después de actualizar tu modelo, resulta que un antinodo ocurre en cualquier posición de la cuadrícula que esté exactamente en línea con al menos dos antenas de la misma frecuencia, independientemente de la distancia. Esto significa que algunos de los nuevos antinodos ocurrirán en la posición de cada antena (a menos que esa antena sea la única de su frecuencia).

Así, estas tres antenas de frecuencia T ahora crean muchos antinodos:

```text
T....#....
...T......
.T....#...
.........#
..#.......
..........
...#......
..........
....#.....
..........
```

De hecho, las tres antenas de frecuencia T están todas exactamente en línea con dos antenas, ¡así que todas ellas son también antinodos! Esto eleva el número total de antinodos en el ejemplo anterior a 9.

El ejemplo original ahora tiene 34 antinodos, incluyendo los antinodos que aparecen en cada antena:

```text
##....#....#
.#.#....0...
..#.#0....#.
..##...0....
....0....#..
.#...#A....#
...#..#.....
#....#.#....
..#.....A...
....#....A..
.#........#.
...#......##
```

Calcula el impacto de la señal usando este modelo actualizado. ¿Cuántas ubicaciones únicas dentro de los límites del mapa contienen un antinodo? `1277`